<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <head>
      <script src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js"></script>
  </head>
    
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <title>React App</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    
    <script>
      var config = {
          // replace the publicKey with yours
          "publicKey": "test_public_key_dc74e0fd57cb46cd93832aee0a390234",
          "productIdentity": "1234567890",
          "productName": "Dragon",
          "productUrl": "http://gameofthrones.wikia.com/wiki/Dragons",
          "paymentPreference": [
              "KHALTI",
              "EBANKING",
              "MOBILE_BANKING",
              "CONNECT_IPS",
              "SCT",
              ],
          "eventHandler": {
              onSuccess (payload) {
                  // hit merchant api for initiating verfication
                  console.log(payload);
              },
              onError (error) {
                  console.log(error);
              },
              onClose () {
                  console.log('widget is closing');
              }
          }
      };

      var checkout = new KhaltiCheckout(config);
      var btn = document.getElementById("payment-button");
      btn.onclick = function () {
          // minimum transaction amount must be 10, i.e 1000 in paisa.
          checkout.show({amount: 1000});
      }
  </script>
  </body>
</html>
